/* -----------------------------------------------
/* Author : NATSKI - natski.net
/* MIT license : https://opensource.org/license/MIT
/* GitHub : https://github.com/natspooky/encore
/* How to use? : Check the GitHub README or visit https://natski.net/api/encore/icon-system
/* ----------------------------------------------- */

import{IS_DATA as e}from"https://natski.netlify.app/api/encore/icon-system/dependencies/IS_DATA.js";import*as t from"https://natski.netlify.app/api/encore/dependencies/dp.min.js";export default class s{#a;constructor(){this.#a=new MutationObserver(this.#b.bind(this)),this.setIcons(document.getElementsByTagName("IS"))}observe(e){this.#a.observe(e,{childList:!0,subtree:!0})}unObserve(e){this.#a.unObserve(e)}setIcons(s){for(let n of s){if(n.hasAttribute("name")&&e.includes(n.getAttribute("name")))n.style.mask=`url(https://natski.netlify.app/api/encore/icon-system/dependencies/svg/${n.getAttribute("name")}.svg) no-repeat center`;else if(n.hasAttribute("src")){let r=new Image;r.onload=function(){".svg"===t.getExtention(n.getAttribute("src"))?n.style.mask=`url(${n.getAttribute("src")}) no-repeat center`:n.style.backgroundImage=`url(${n.getAttribute("src")}) no-repeat center`,n.style.mask=`url(${n.getAttribute("src")}) no-repeat center`},r.onerror=function(){n.style.mask="url(https://natski.netlify.app/api/encore/icon-system/dependencies/svg/alert.svg) no-repeat center"},r.src=n.getAttribute("src")}else n.style.mask="url(https://natski.netlify.app/api/encore/icon-system/dependencies/svg/alert.svg) no-repeat center";n.style.visibility="visible"}}#b(){this.setIcons(document.getElementsByTagName("IS"))}};