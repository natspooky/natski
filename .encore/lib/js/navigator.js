import{buildComponent}from"../../apis/encore/element-creator/ec.js";export default class Navigator{#e;#t;#i={};#s={left:{size:30,widgets:{},container:null},right:{size:30,widgets:{},container:null},center:{size:40,widgets:{},container:null},default:30};constructor(e){this.#e=e,this.#t=this.#e.children[0].children[0],this.#s.center.container=this.#e.children[1],this.#s.left.container=this.#e.children[2],this.#s.right.container=this.#e.children[3],this.width()}static create(e){return new Navigator(buildComponent({tag:"nav",attributes:{style:"--left: 30px; --right: 30px; --center: 40px"},children:[{tag:"div",children:{tag:"section",classes:"title fadeout fadein",innerHTML:e}},{tag:"span",classes:"center"},{tag:"span",classes:"left"},{tag:"span",classes:"right"}]}))}width(){this.#e.style.setProperty("--width",`${this.#t.offsetWidth}px`)}changeTitle(e){document.getElementsByTagName("title")[0].innerHTML=e,clearTimeout(this.#i.width),clearTimeout(this.#i.title),this.#t.classList.remove("fadein"),this.#i.title=setTimeout(()=>{this.#t.innerHTML=e,this.#t.classList.add("fadein")},400),this.#i.width=setTimeout(()=>{this.width()},410)}addWidget(e,t,i){this.#s[e].widgets[t]=buildComponent(i)}getWidget(e,t){return this.#s[e].widgets[t]}getWidgetsByDirection(e){return this.#s[e].widgets}widgetCount(e){return Object.entries(this.getWidgetsByDirection(e)).length}widgetSize(e){return this.#s[e].container.offsetWidth}size(e,t){t?this.#e.style.setProperty(`--${e}`,`${t+32}px`):this.#e.style.setProperty(`--${e}`,`${this.#s.default}px`)}changeSize(e){this.#s[e].size=this.widgetSize(e),this.size(e,this.#s[e].size)}checkWidget(e,t){return!!this.#s[e].widgets[t]}removeWidget(e,t){this.#s[e].widgets[t]&&(this.#s[e].widgets[t].remove(),delete this.#s[e].widgets[t],this.changeSize(e))}show(){this.#e.classList.add("open")}hide(){this.#e.classList.remove("open")}get element(){return this.#e}}