import{default as SimpleCanvas}from"../../../apis/simple-canvas/sc.js";class kuru{#s=0;#e=0;#a;#t={x:0,y:0};constructor(s){this.#a=s,this.#s=Math.min(this.#a.transformSize.width/1.5,this.#a.transformSize.height/1.5),this.#t.x=this.#a.transformSize.width+this.#s,setInterval(()=>{this.#e+1>5?this.#e=0:this.#e++},50)}resize(){this.#s=Math.min(this.#a.transformSize.width/2,this.#a.transformSize.height/2)}draw(){canvas.context.drawImage(pngStorage[this.#e],this.#t.x,this.#t.y-this.#s,this.#s,this.#s),this.#t.x-=2e3*canvas.renderTime}get position(){return this.#t.x}}let canvas,context,kuruStorage=[],pngStorage=[];function setup(){for(let s=0;s<6;s++){let e=new Image;e.src=`../../icon/misc/kuru/${s}.png`,pngStorage.push(e)}context=canvas.context,canvas.translate(0,canvas.canvasSize.y)}function resize(){kuruStorage=[]}function mouseDown(){kuruStorage.push(new kuru(canvas))}function keyDown(){console.log(canvas.activeKeys),console.log(canvas.previousKey,canvas.currentKey),console.log(canvas.keyboardEvents)}function draw(){context.fillStyle="#ffffff";for(let s=kuruStorage.length-1;s>0;s--)kuruStorage[s].draw(),kuru.position<0&&kuruStorage[s].splice(s,1)}canvas=new SimpleCanvas("kuru",{fps:120,autoClear:!0,calculateFPS:!0,calculateCursor:!1,calculateKeyboard:!1,showLayerPosition:!0,calculateOverlay:!0,useCursor:!0,useKeyboard:!0,useScroll:!1,useTouch:!1,detectResize:!0,detectWindowFocus:!0,detectIntersection:!1}),canvas.setup(setup),canvas.resize(resize),canvas.mouseDown(mouseDown),canvas.keyDown(keyDown),canvas.draw(draw);