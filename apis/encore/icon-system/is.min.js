/* -----------------------------------------------
/* Author : NATSKI - natski.dev
/* MIT license : https://opensource.org/license/MIT
/* GitHub : https://github.com/natspooky/encore
/* How to use? : Check the GitHub README or visit https://natski.dev/api/encore/icon-system
/* ----------------------------------------------- */

import{IS_DATA as t}from"./dependencies/IS_DATA.js";import{fileExtention as s}from"../../dependencies/file-utils/fu.min.js";class IS extends HTMLElement{static observedAttributes=["name","src","width","height"];#a;constructor(){super(),this.#a="https://natski.vercel.app/apis/encore/icon-system/dependencies/svg/?.svg",this.attachShadow({mode:"open"}),this.shadowRoot.style.display="none",this.shadowRoot.style.visibility="hidden"}#b(e,i){return t.includes(e)||(e="alert"),`url(${i?e:this.#a.replace("?",e)}) no-repeat center`}#c(){this.shadowRoot.style.display=null,this.shadowRoot.style.visibility=null}connectedCallback(){let t=this.getAttribute("name"),e=this.getAttribute("src");if(!(t&&e)){this.shadowRoot.style.mask=this.#b("alert"),this.#c();return}if(t&&(this.shadowRoot.style.mask=this.#b(t),this.#c()),e){let i=new Image;i.onload=()=>{"svg"===s(e)?icon.style.mask=this.#b(e,!0):icon.style.backgroundImage=this.#b(e,!0),this.#c()},i.onerror=()=>{icon.style.mask=this.#b("alert"),this.#c()},i.src=e}}disconnectedCallback(){this.shadowRoot.style.visibility="hidden"}connectedMoveCallback(){this.shadowRoot.style.visibility="visible"}attributeChangedCallback(t,s,e){switch(t){case"src":case"name":case"width":case"height":break;default:throw Error("yeah idk how this happened")}}}export default class a{#d;constructor(){if(window.IconSystem)throw Error("An instance of ENCORE Icon System is already running");customElements.define("icon-system",IS),window.IconSystem=this}};