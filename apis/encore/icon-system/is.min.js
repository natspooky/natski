/* -----------------------------------------------
/* Author : NATSKI - natski.dev
/* MIT license : https://opensource.org/license/MIT
/* GitHub : https://github.com/natspooky/encore
/* How to use? : Check the GitHub README or visit https://natski.dev/api/encore/icon-system
/* ----------------------------------------------- */

import{IS_DATA as e}from"./dependencies/IS_DATA.js";import{fileExtention as s}from"../../dependencies/file-utils/fu.min.js";class IS extends HTMLElement{static observedAttributes=["name","src","width","height"];#a;#b;constructor(){let e=super();this.#b=e,this.#a="https://natski.vercel.app/apis/encore/icon-system/dependencies/svg/?.svg"}#c(t,i){return console.log(t),e.includes(t)||i||(console.log(t),t="alert"),`url(${i?t:this.#a.replace("?",t)}) no-repeat center`}#d(){this.#b.style.display=null,this.#b.style.visibility=null}#e(){this.#b.style.display="none",this.#b.style.visibility="hidden"}connectedCallback(){this.#e(),console.log("connected");let e=this.getAttribute("name"),t=this.getAttribute("src");if(!e&&!t){this.#b.style.mask=this.#c("alert"),this.#d();return}if(e){this.#b.style.mask=this.#c(e),this.#d();return}if(t){let i=new Image;i.onload=()=>{console.log("loaded"),"svg"===s(t)?this.#b.style.mask=this.#c(t,!0):this.#b.style.backgroundImage=this.#c(t,!0),this.#d()},i.onerror=()=>{console.log("errored"),this.#b.style.mask=this.#c("alert"),this.#d()},i.src=t}}disconnectedCallback(){this.#b.style.visibility="hidden"}connectedMoveCallback(){this.#b.style.visibility="visible"}attributeChangedCallback(e,s,t){switch(e){case"src":case"name":case"width":case"height":break;default:throw Error("yeah idk how this happened")}}}export default class l{#f;constructor(){if(window.IconSystem)throw Error("An instance of ENCORE Icon System is already running");customElements.define("icon-system",IS),console.log("started"),window.IconSystem=this}};