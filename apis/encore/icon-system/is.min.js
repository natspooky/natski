/* -----------------------------------------------
/* Author : NATSKI - natski.net
/* MIT license : https://opensource.org/license/MIT
/* GitHub : https://github.com/natspooky/encore
/* How to use? : Check the GitHub README or visit https://natski.net/api/encore/icon-system
/* ----------------------------------------------- */

import{IS_DATA as e}from"./dependencies/IS_DATA.js";import{fileExtention as t}from"../../dependencies/file-utils/fu.min.js";export default class s{#a;constructor(){this.#a=new MutationObserver(this.#b.bind(this)),this.setIcons(document.getElementsByTagName("IS"))}observe(e){this.#a.observe(e,{childList:!0,subtree:!0})}unObserve(e){this.#a.unObserve(e)}setIcons(s){for(let r of s){if(r.hasAttribute("name")&&e.includes(r.getAttribute("name")))r.style.mask=`url(https://natski.vercel.app/apis/encore/icon-system/dependencies/svg/${r.getAttribute("name")}.svg) no-repeat center`;else if(r.hasAttribute("src")){let n=new Image;n.onload=function(){".svg"===t(r.getAttribute("src"))?r.style.mask=`url(${r.getAttribute("src")}) no-repeat center`:r.style.backgroundImage=`url(${r.getAttribute("src")}) no-repeat center`,r.style.mask=`url(${r.getAttribute("src")}) no-repeat center`},n.onerror=function(){r.style.mask="url(https://natski.vercel.app/apis/encore/icon-system/dependencies/svg/alert.svg) no-repeat center"},n.src=r.getAttribute("src")}else r.style.mask="url(https://natski.vercel.app/apis/encore/icon-system/dependencies/svg/alert.svg) no-repeat center";r.style.visibility="visible"}}#b(){this.setIcons(document.getElementsByTagName("IS"))}};