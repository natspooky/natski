/* -----------------------------------------------
/* Author : NATSKI - natski.dev
/* MIT license : https://opensource.org/license/MIT
/* GitHub : https://github.com/natspooky/encore
/* How to use? : Check the GitHub README or visit https://natski.dev/api/encore/icon-system
/* ----------------------------------------------- */

import{IS_DATA as e}from"./dependencies/IS_DATA.js";import{fileExtention as t}from"../../dependencies/file-utils/fu.min.js";class IS extends HTMLElement{static observedAttributes=["name","src","width","height"];#a;#b;constructor(){let e=super();this.#b=e,this.#a="https://natski.vercel.app/apis/encore/icon-system/dependencies/svg/?.svg"}#c(s,i){return e.includes(s)||i||(console.warn(`Icon ${s} doesnt exist in the ENCORE Icon System database`),s="alert"),`url(${i?s:this.#a.replace("?",s)}) no-repeat center`}#d(){this.#b.removeAttribute("hidden")}#e(){this.#b.setAttribute("hidden","")}#f(){this.#e();let n=this.getAttribute("name"),c=this.getAttribute("src");if(!n&&!c){this.#b.style.mask=this.#c("alert"),this.#d();return}if(n){this.#b.style.mask=this.#c(n),this.#d();return}if(c){let a=new Image;a.onload=()=>{"svg"===t(c)?this.#b.style.mask=this.#c(c,!0):this.#b.style.backgroundImage=this.#c(c,!0),this.#d()},a.onerror=()=>{console.warn(`404: ${c} not found`),this.#b.style.mask=this.#c("alert"),this.#d()},a.src=c}}connectedCallback(){this.#f()}disconnectedCallback(){this.#e()}connectedMoveCallback(){this.#d()}attributeChangedCallback(e,t,s){switch(e){case"src":case"name":this.#f();break;case"width":case"height":break;default:throw Error("FATAL ERROR")}}}export default class r{constructor(){window.IconSystem||(customElements.define("icon-system",IS),window.IconSystem=this)}};