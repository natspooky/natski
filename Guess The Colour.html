<!doctype html>
<html lang="en-US">
    <head>
		<title>Natski</title>
        <meta charset="UTF-8"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
        <meta name="theme-color" content="#1e1e1e"/>
        <meta name="description" content="ground up website for fun"/>
        <meta name="keywords" content="portfolio, natspooky, natski"/>
        <meta name="author" content="NATSKI"/>
        <meta name="copyright" content="NATSKI">
        <meta name="color-scheme" content="normal">
		<link rel="icon" type="image/svg+xml" href="icon/svg/favicon.svg"/>
        <link rel="apple-touch-icon"sizes="57x57" href="icon/mobile/57.png"/>
        <link rel="apple-touch-icon"sizes="60x60" href="icon/mobile/60.png"/>
        <link rel="apple-touch-icon"sizes="72x72" href="icon/mobile/72.png"/>
        <link rel="apple-touch-icon"sizes="76x76" href="icon/mobile/76.png"/>
        <link rel="apple-touch-icon"sizes="114x114" href="icon/mobile/114.png"/>
        <link rel="apple-touch-icon"sizes="120x120" href="icon/mobile/120.png"/>
        <link rel="apple-touch-icon"sizes="144x144" href="icon/mobile/144.png"/>
        <link rel="apple-touch-icon"sizes="152x152" href="icon/mobile/152.png"/>
        <meta property="og:title" content="Natspooky"/>
        <meta property="og:description" content="ground up website for fun"/>
        <meta property="og:image" content="https://natski.netlify.com/icon/avatar/400.png"/>
        <meta property="og:image:width" content="400"/>
        <meta property="og:image:height" content="400"/>
        <meta property="og:url" content="https://natski.netlify.com"/>
        <meta property="og:locale" content="en_US"/>
        <meta property="og:type" content="website"/>
        <meta property="og:site_name" content="NATSKI"/>
        <meta name="twitter:title" content="Natspooky">
        <meta name="twitter:description" content="ground up website for fun">
        <meta name="twitter:image" content="https://natski.netlify.com/icon/avatar/400.png">
        <meta name="twitter:site" content="@natspooky_">
        <meta name="twitter:creator" content="@natspooky_">
        <meta name="twitter:card" content="summary">
        <link rel="stylesheet" type="text/css" href="lib/css/main.css"/>
        <link rel="stylesheet" type="text/css" href="lib/css/animations.css"/>
        <link rel="stylesheet" type="text/css" media="screen and (orientation: portrait)" href="lib/css/scale.css"/>
        <link rel="prefetch" href="icon/img/kuru.gif">
        <link rel="prefetch" href="icon/img/ki.gif">
        <link rel="prefetch" href="icon/img/nahida.gif">
        <link rel="prefetch" href="icon/img/traveler.gif">
        <link rel="prefetch" href="icon/audio/kuru.mp3">
        <link rel="prefetch" href="icon/audio/kuruine.mp3">
	</head>
    <body>

        
        <div id="colourpanelback"></div>
        <header>
            <div class="observe"></div>
            <div class="imagebox">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850.89 850.9">
                    <path fill="var(--bar)" d="M757.63.5H92.77C41.58.5.08,41.99.08,93.18v665.02c0,51.19,41.5,92.69,92.69,92.69h664.86c51.19,0,92.68-41.5,92.68-92.69V93.18c0-51.19-41.49-92.68-92.68-92.68ZM383.3,727.2c0,22.08-17.9,39.97-39.98,39.97H123.69c-22.08,0-39.98-17.89-39.98-39.97v-65.37h89.03c17.62,0,31.9-14.29,31.9-31.9v-19.84c0-17.61-14.28-31.89-31.9-31.89h-89.03v-305h89.03c17.62,0,31.9-14.28,31.9-31.9v-19.83c0-17.62-14.28-31.9-31.9-31.9h-89.03v-65.38c0-22.08,17.9-39.98,39.98-39.98h219.63c22.08,0,39.98,17.9,39.98,39.97v603.02ZM766.68,189.56h-89.19c-17.62,0-31.9,14.29-31.9,31.9v19.83c0,17.62,14.28,31.9,31.9,31.9h89.19v305h-89.19c-17.62,0-31.9,14.28-31.9,31.9v19.83c0,17.62,14.28,31.9,31.9,31.9h89.19v65.38c0,22.08-17.9,39.97-39.98,39.97h-219.63c-22.08.01-39.98-17.88-39.98-39.96V124.19c0-22.08,17.9-39.98,39.98-39.98h219.63c22.08,0,39.98,17.9,39.98,39.98v65.37Z"/>
                  </svg>
                <img src="icon/thumbnails/pixelsorter.png" alt="guess the colour" id="headerimage" draggable="false">
            </div>
            <h2>Guess The Colour</h2>
        </header>

        <style>
         
            main * {
                position: relative;

            }

            main .modes {
                display: block;
                height: 80px;
                width: 100%;
                padding: 10px 15%;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            main .modes button {
                background-color: blue;
                padding: 0 20px;
                height: 100%;
                border-radius: 10px;
                border: 2px solid #f0f0f020;
                background-color: #f0f0f010;
                margin: 0 10px;
                flex-grow: 1;

            }

            

        </style>
        
        <main>
            <div class="modes">
                <span id="buttonBg"></span>
                <button>HEX</button>
                <button>RGB</button>
                <button>HSV</button>
            </div>

            <div class="gameCont">
                <div class="">
                    <div class="colourPicker">

                    </div>
                    <div class="toolBar">

                    </div>
                </div>
                <div class="colour">
                    imageblock
                </div>
            </div>
        </main>

        <script>

            let colour,
            colourTile = document.getElementById('colourTile'),
            inputs = document.getElementById('colourInp')

            window.onload = function() {

                colourGen()

            }



            function colourGen() {
                let color = `${Math.floor(Math.random() * 255 ** 3).toString(16)}`
                color = `#${Array(6 - colour.length).fill("0").join('') + colour}`
                colour = color
            }


            function convertRGBToLab(rgb){
                let red = rgb[0] / 255,
                green = rgb[1] / 255,
                blue = rgb[2] / 255,
                x, y, z;

                red = (red > 0.04045) ? ((red + 0.055) / 1.055) ** (2.4) : red / 12.92;
                green = (green > 0.04045) ? ((green + 0.055) / 1.055) ** (2.4) : green / 12.92;
                blue = (blue > 0.04045) ? ((blue + 0.055) / 1.055) ** (2.4) : blue / 12.92;

                x = (red * 0.4124 + green * 0.3576 + blue * 0.1805) / 0.95047;
                y = (red * 0.2126 + green * 0.7152 + blue * 0.0722) / 1.00000;
                z = (red * 0.0193 + green * 0.1192 + blue * 0.9505) / 1.08883;

                x = (x > 0.008856) ? x ** (1/3) : (7.787 * x) + 16/116;
                y = (y > 0.008856) ? y ** (1/3) : (7.787 * y) + 16/116;
                z = (z > 0.008856) ? z ** (1/3) : (7.787 * z) + 16/116;

                return [(116 * y) - 16, 500 * (x - y), 200 * (y - z)]
            }

            function labDeltaE(labOne, labTwo){
                let deltaL = labOne[0] - labTwo[0],
                deltaA = labOne[1] - labTwo[1],
                deltaB = labOne[2] - labTwo[2],

                c1 = Math.sqrt(labOne[1] * labOne[1] + labOne[2] * labOne[2]),
                c2 = Math.sqrt(labTwo[1] * labTwo[1] + labTwo[2] * labTwo[2]),

                deltaC = c1 - c2,
                deltaH = deltaA * deltaA + deltaB * deltaB - deltaC * deltaC;
                deltaH = deltaH < 0 ? 0 : Math.sqrt(deltaH);

                let sc = 1.0 + 0.045 * c1,
                sh = 1.0 + 0.015 * c1,

                deltaLKlsl = deltaL / (1.0),
                deltaCkcsc = deltaC / (sc),
                deltaHkhsh = deltaH / (sh),

                i = deltaLKlsl * deltaLKlsl + deltaCkcsc * deltaCkcsc + deltaHkhsh * deltaHkhsh;

                return i < 0 ? 0 : Math.sqrt(i);
            }



            function hexToRgb(hex) {
                let result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);
                return result ? [
                    parseInt(result[1], 16),
                    parseInt(result[2], 16),
                    parseInt(result[3], 16)
                ] : null;
            }

            function compare(user) {

                let accuracy = 100 - labDeltaE(convertRGBToLab(hexToRgb(colour)), convertRGBToLab(hexToRgb(user)))

                if(accuracy > 90) {

                }

            }


        </script>

        <footer>
            <div>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 850.35 850.35">
                    <path d="M850.35,48.04V802.31c0,26.53-21.51,48.04-48.04,48.04h-171.87c-18.33,0-35.64-8.4-46.98-22.8l-243.52-309.3c-29.93-38.02-91.02-16.85-91.02,31.53v252.55c0,26.52-21.5,48.02-48.02,48.02H48.02c-26.52,0-48.02-21.5-48.02-48.02V48.02C0,21.5,21.5,0,48.02,0H219.9c18.33,0,35.64,8.4,46.99,22.8l243.46,309.07c29.96,38.03,91.08,16.85,91.08-31.56V48.04c0-26.53,21.51-48.04,48.04-48.04h152.85c26.53,0,48.04,21.51,48.04,48.04Z"/>
                </svg>
                <p>Â©NATSKI<br>ENCORE</p>
            </div>
            <span></span>
            <a onclick="parent.loadframe('Privacy Policy');parent.backPage(1)">Privacy Policy</a>
        </footer>

        <div id="SSM" style="display: none;">
            <section>
                <h1><GIS-icon title="gear"></GIS-icon>Sort Settings</h1>
            </section>
        
            <section class="SSMsearch">
                <h1><GIS-icon title="magnify"></GIS-icon>Search</h1>
                <span class="SSMcategory">
                    <input class="SSMinput" type="text" ssminfo="Lets you search for a specific setting" placeholder="Search">
                </span>
            </section>

            <section>
                <h1><GIS-icon title="bookshelf"></GIS-icon>Output</h1>
                <span class="SSMcategory SSMcheckbox">
                    <p>Red Channel</p>
                    <input type="checkbox" checked class="SSMinput" ssminfo="toggles the red channel" onclick="processor.toggleValue(this.checked, 0)">
                </span>
                <span class="SSMcategory SSMcheckbox">
                    <p>Green Channel</p>
                    <input type="checkbox" checked class="SSMinput" ssminfo="toggles the green channel" onclick="processor.toggleValue(this.checked, 1)">
                </span>
                <span class="SSMcategory SSMcheckbox">
                    <p>Blue Channel</p>
                    <input type="checkbox" checked class="SSMinput" ssminfo="toggles the blue channel" onclick="processor.toggleValue(this.checked, 2)">
                </span>

                <span class="SSMcategory SSMcheckbox">
                    <p>Inverse Mask</p>
                    <input type="checkbox" class="SSMinput" ssminfo="toggles the red channel" onclick="processor.toggleValue(this.checked, 3)">
                </span>

                <span class="SSMcategory SSMcheckbox">
                    <p>Reverse Sort</p>
                    <input type="checkbox" class="SSMinput" ssminfo="toggles the red channel" onclick="processor.toggleValue(this.checked, 4)">
                </span>

                <span class="SSMcategory SSMcheckbox">
                    <p>Display BitMap</p>
                    <input type="checkbox" class="SSMinput" ssminfo="displayed the bitMap used to filter the image" onclick="processor.toggleValue(this.checked, 5)">
                </span>
                
            </section>

            <section>
                <h1><GIS-icon title="apps"></GIS-icon>Sorting</h1>
                <span class="SSMcategory">
                    <p>Sorting Type</p>
                    <div class="SSMselection SSMinput" ssminfo="changes which method you want to use to sort the pixels">
                        <div class="itemContainer">
                            <span class="SSMheader">
                                Grayscale Sorting
                            </span>
                            <span class="SSMitem" value="GRAY" onclick="processor.colorSpace('GRAY')">
                                Grayscale Sorting
                            </span>
                            <span class="SSMitem" value="GRAY" onclick="processor.colorSpace('HSV')">
                                HSV Sorting
                            </span>
                            <span class="SSMitem" value="LAB" onclick="processor.colorSpace('LAB')">
                                LAB sorting
                            </span>
                            
                        </div>
                    </div>
                </span>
            </section>
            
        
            <section>
                <h1><GIS-icon title="config"></GIS-icon>Threshold</h1>
                <span class="SSMcategory">
                    <p>Lower Bound</p>
                    <input type="range" class="SSMinput" min="0" max="255" value="20" step="1" ssminfo="changes the lower bound used to sort the pixels" onchange="processor.lowerBound(this.value)">
                </span>
                <span class="SSMcategory">
                    <p>Upper Bound</p>
                    <input type="range" class="SSMinput" min="0" max="255" value="150" step="1" ssminfo="changes the upper bound used to sort the pixels" onchange="processor.upperBound(this.value)">
                </span>
                <span class="SSMcategory">
                    <p>HSV Threshold Type</p>
                    <div class="SSMselection SSMinput" ssminfo="changes which HSV property will be sorted when sorting by HSV">
                        <div class="itemContainer">
                            <span class="SSMheader">
                                Value
                            </span>
                            <span class="SSMitem" value="Hue" onclick="processor.HSVfilter('Hue')">
                                Hue
                            </span>
                            <span class="SSMitem" value="Saturation" onclick="processor.HSVfilter('Saturation')">
                                Saturation
                            </span>
                            <span class="SSMitem" value="Value" onclick="processor.HSVfilter('Value')">
                                Value
                            </span>
                            
                        </div>
                    </div>
                </span>
                <span class="SSMcategory SSMcolour">
                    <p>LAB Colour Match</p>
                    <input type="color" class="SSMinput" ssminfo="changes the colour that will be matched to the pixels when sorting" onchange="processor.matchCol(processor.hexToRgb(this.value))">
                </span>
                <span class="SSMcategory">
                    <p>LAB Colour Threshold</p>
                    <input type="range" class="SSMinput" min="0" max="100" value="100" step="1" ssminfo="changes the threshold used to sort the pixels when using a LAB sort" onchange="processor.matchThresh(this.value)">
                </span>
            </section>
        </div>

        <noscript>
            <h1>javascript is disabled</h1>
            <p>ENCORE.js requires javascript in order to run, please enable javascript</p>
        </noscript>
        <script src="lib/js/ENCORE_NAT.js"></script>
        <script src="lib/js/ENCORE_GIS.js"></script>
        <script>
            GIS_settings = {'style':1}
        </script>
        <script src="lib/js/ENCORE_SSM.js"></script>
        <script>
            SSM_settings = {'style':1}
        </script>
        <script src="lib/js/ENCORE_APF.js"></script>
    </body>
</html>